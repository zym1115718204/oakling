{% load static %}

<!DOCTYPE html>
<html lang="zh-cn">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta name="description" content="Xenon Boostrap Admin Panel" />
	<meta name="author" content="" />

	<title>Oakling</title>

	<!---->
	<link rel="stylesheet" href="{% static 'assets/css/fonts/linecons/css/linecons.css' %}">
	<link rel="stylesheet" href="{% static 'assets/css/fonts/fontawesome/css/font-awesome.min.css' %}">
	<link rel="stylesheet" href="{% static 'assets/css/bootstrap.css' %}">
	<link rel="stylesheet" href="{% static 'assets/css/xenon-core.css' %}">
	<link rel="stylesheet" href="{% static 'assets/css/xenon-forms.css' %}">
	<link rel="stylesheet" href="{% static 'assets/css/xenon-components.css' %}">
	<link rel="stylesheet" href="{% static 'assets/css/xenon-skins.css' %}">
	<link rel="stylesheet" href="{% static 'assets/css/custom.css' %}">

	<script src="{% static 'assets/js/jquery-1.11.1.min.js' %}"></script>

	<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js' %}"></script>
		<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js' %}"></script>
	<![endif]-->


</head>
<body class="page-body">

	<nav class="navbar horizontal-menu navbar-fixed-top navbar-minimal"><!-- set fixed position by adding class "navbar-fixed-top" -->

		<div class="navbar-inner">

			<!-- Navbar Brand -->
			<div class="navbar-brand">
				<a href="/dashboard" class="logo">
					<img src="{% static 'assets/images/logo@3x.png' %}" width="80" alt="" class="hidden-xs" />
					<img src="{% static 'assets/images/logo-white-bg@3x.png' %}" width="80" alt="" class="visible-xs" />
				</a>
			</div>

			<!-- Mobile Toggles Links -->
			<div class="nav navbar-mobile">

				<!-- This will toggle the mobile menu and will be visible only on mobile devices -->
				<div class="mobile-menu-toggle">
					<!-- This will open the popup with user profile settings, you can use for any purpose, just be creative -->
					<a href="#" data-toggle="settings-pane" data-animate="true">
						<i class="linecons-cog"></i>
					</a>

					<a href="#" data-toggle="user-info-menu-horizontal">
						<i class="fa-bell-o"></i>
						<span class="badge badge-success">7</span>
					</a>

					<!-- data-toggle="mobile-menu-horizontal" will show horizontal menu links only -->
					<!-- data-toggle="mobile-menu" will show sidebar menu links only -->
					<!-- data-toggle="mobile-menu-both" will show sidebar and horizontal menu links -->
					<a href="#" data-toggle="mobile-menu-horizontal">
						<i class="fa-bars"></i>
					</a>
				</div>

			</div>

			<div class="navbar-mobile-clear"></div>

			<!-- main menu -->
			<ul class="navbar-nav">
				<li class="opened active">
					<a href="/dashboard">
						<i class="linecons-cog"></i>
						<span class="title">任务中心</span>
					</a>
				</li>
				<li>
					<a href="/dashboard/nodes">
						<i class="linecons-desktop"></i>
						<span class="title">节点</span>
					</a>
				</li>
				<li>
					<a href="/dashboard/data">
						<i class="linecons-note"></i>
						<span class="title">数据中心</span>
					</a>
				</li>
				<li>
					<a href="http://127.0.0.1:5555/" target="_blank">
						<i class="linecons-params"></i>
						<span class="title">任务监控</span>
					</a>
				</li>
				<li>
					<a href="/dashboard/api">
						<i class="linecons-cloud"></i>
						<span class="title">API接口</span>
					</a>
				</li>
			</ul>

			<!-- notifications and other links -->
			<ul class="nav nav-userinfo navbar-right">

				<li class="dropdown xs-left">

					<a href="#" data-toggle="dropdown" class="notification-icon">
						<i class="fa-envelope-o"></i>
						<span class="badge badge-green hidden">0</span>
					</a>

					<ul class="dropdown-menu messages">
                        <li class="external">
                            <a href="#">
                                <span>没有新的消息</span>
                                <i class="fa-link-ext"></i>
                            </a>
                        </li>
					</ul>

				</li>

				<li class="dropdown xs-left">
					<a href="#" data-toggle="dropdown" class="notification-icon notification-icon-messages">
						<i class="fa-bell-o"></i>
						<span class="badge badge-purple hidden">0</span>
					</a>

					<ul class="dropdown-menu notifications">
										<li class="top">
						<p class="small">
							<a href="#" class="pull-right">全部标记为已读</a>
							你有 <strong>0</strong> 条新的提醒.
						</p>
					</li>

					<li>
						<ul class="dropdown-menu-list list-unstyled ps-scrollbar">
							<li class="active notification-success hidden">
								<a href="#">
									<i class="fa-user"></i>

									<span class="line">
										<strong>New user registered</strong>
									</span>

									<span class="line small time">
										30 seconds ago
									</span>
								</a>
							</li>

							<li class="active notification-secondary hidden">
								<a href="#">
									<i class="fa-lock"></i>

									<span class="line">
										<strong>Privacy settings have been changed</strong>
									</span>

									<span class="line small time">
										3 hours ago
									</span>
								</a>
							</li>

							<li class="notification-info">
								<a href="#">
									<i class="fa-database"></i>

									<span class="line">
										服务器工作正常
									</span>

									<span class="line small time">
										昨天 10:30am
									</span>
								</a>
							</li>
						</ul>
					</li>

					<li class="external">
						<a href="#">
							<span>查看所有提醒.</span>
							<i class="fa-link-ext"></i>
						</a>
					</li>
					</ul>
				</li>

				<li class="dropdown user-profile">
					<a href="#" data-toggle="dropdown">
						<img src="{% static 'assets/images/user-1.png' %}" alt="user-image" class="img-circle img-inline userpic-32" width="28" />
						<span>
                            登录
							<i class="fa-angle-down"></i>
						</span>
					</a>

					<ul class="dropdown-menu user-profile-menu list-unstyled">
						<li>
							<a href="#settings">
								<i class="fa-wrench"></i>
								设置
							</a>
						</li>
						<li>
							<a href="#profile">
								<i class="fa-user"></i>
								简介
							</a>
						</li>
						<li>
							<a href="#help">
								<i class="fa-info"></i>
								帮助
							</a>
						</li>
						<li class="last">
							<a href="#logout">
								<i class="fa-lock"></i>
								登出
							</a>
						</li>
					</ul>
				</li>

			</ul>

		</div>

	</nav>

	<div class="page-container"><!-- add class "sidebar-collapsed" to close sidebar by default, "chat-visible" to make chat appear always -->

		<div class="main-content">

			<script>
			jQuery(document).ready(function($)
			{
				$('a[href="#layout-variants"]').on('click', function(ev)
				{
					ev.preventDefault();

					var win = {top: $(window).scrollTop(), toTop: $("#layout-variants").offset().top - 15};

					TweenLite.to(win, .3, {top: win.toTop, roundProps: ["top"], ease: Sine.easeInOut, onUpdate: function()
						{
							$(window).scrollTop(win.top);
						}
					});
				});
			});
			</script>



			<!-- Tables and Panels -->
			<div class="row">
				<!--<div class="col-md-12">-->

					<div class="panel panel-default">
						<div class="panel-heading">
							<h3 class="panel-title"><strong>任务状态</strong></h3>

							<div class="panel-options">

                                <button class="btn btn-purple btn-icon btn-sm float-right create-btn">
									<span>创建</span>
									<i class="fa-pencil"></i>
								</button>
							</div>
						</div>

						<table class="table table-striped">
							<thead>
								<tr>
                                    <th class="col-md-1" style="width:6%">任务组</th>
									<th class="col-md-1" >任务</th>
									<th class="col-md-1" style="width:6%">状态</th>
									<th class="col-md-1" style="width:7%">运行间隔</th>
									<th class="col-md-1" style="width:7%">任务类型</th>
									<th class="col-md-1 hidden">分发数量</th>
									<th class="col-md-1 hidden" >参数</th>
									<th class="col-md-2">简介</th>
									<th class="col-md-1" >进度</th>
									<th class="col-md-1" ></th>
									<th class="col-md-1" ></th>
									<th class="col-md-1" ></th>
									<th class="col-md-2">动作</th>
{#									<th class="col-md-1">任务组</th>#}
{#									<th class="col-md-1">任务</th>#}
{#									<th class="col-md-1">状态</th>#}
{#									<th class="col-md-1">运行间隔</th>#}
{#									<th class="col-md-1">任务类型</th>#}
{#									<th class="col-md-1 hidden">分发数量</th>#}
{#									<th class="col-md-1 hidden" >参数</th>#}
{#									<th class="col-md-2">简介</th>#}
{#									<th class="col-md-1">进度</th>#}
{#									<th class="col-md-1"></th>#}
{#									<th class="col-md-1"></th>#}
{#									<th class="col-md-1"></th>#}
{#									<th class="col-md-2">动作</th>#}
								</tr>
							</thead>

							<tbody>
								{% for project in projects %}
								<tr>
									<td>{{ project.group}}</td>
									<td>
										<a href="/dashboard/info/{{ project.name }}" >
                                        <strong class="text-secondary">{{ project.name }}</strong>
										</a>
									</td>
									<td>
										{% if project.status == 0 %}
										<span class="label label-danger" value="0">停止</span>
										{% elif project.status == 1 %}
										<span class="label label-success" value="1">运行</span>
										{% elif project.status == 2 %}
										<span class="label label-info" value="2">调试</span>
										{% elif project.status == 3 %}
										<span class="label label-warning" value="3">失效</span>
										{% endif %}
									</td>
									<td>{{ project.interval }} </td>
									<td>{{ project.type }}</td>
									<td class="hidden">{{ project.speed }}</td>
									<td class="hidden">{{ project.args }} </td>
									<td>{{ project.info }}</td>

									<td class="middle-align progress-align" title="1 分钟:
总计(): 	{{ project.total_m }}
新增(): 		{{ project.new_m }}
成功({{ project.success_rate_m }}%): 	{{ project.success_m }}
失效({{ project.invalid_rate_m }}%): 	{{ project.invalid_m }}
失败({{ project.failed_rate_m }}%): 	{{ project.failed_m }}">
										<div class="progress" >
											<div class="progress-text">1min : {{ project.total_m }}</div>
											<div class="progress-bar progress-bar-info" style="width: {{ project.invalid_rate_m }}%">
											</div>
											<div class="progress-bar progress-bar-success" style="width: {{ project.success_rate_m }}%">
											</div>
											<div class="progress-bar progress-bar-warning" style="width: 0.0%">
											</div>
											<div class="progress-bar progress-bar-danger" style="width: {{ project.failed_rate_m }}%">
											</div>
										</div>

									</td>
									<td class="middle-align" title="1 小时:
总计(): 	{{ project.total_h }}
新增(): 		{{ project.new_h }}
成功({{ project.success_rate_h }}%): 	{{ project.success_h }}
失效({{ project.invalid_rate_h }}%): 	{{ project.invalid_h }}
失败({{ project.failed_rate_h }}%): 	{{ project.failed_h }}">
										<div class="progress" >
											<div class="progress-text">1hour : {{ project.total_h }}</div>
											<div class="progress-bar progress-bar-info" style="width: {{ project.invalid_rate_h }}%">
											</div>
											<div class="progress-bar progress-bar-success" style="width: {{ project.success_rate_h }}%">
											</div>
											<div class="progress-bar progress-bar-warning" style="width: 0.0%">
											</div>
											<div class="progress-bar progress-bar-danger" style="width: {{ project.failed_rate_h }}%">
											</div>
										</div>
									</td>
									<td class="middle-align" title="1 天:
总计(): 	{{ project.total_d }}
新增(): 		{{ project.new_d }}
成功({{ project.success_rate_d }}%): 	{{ project.success_d }}
失效({{ project.invalid_rate_d }}%): 	{{ project.invalid_d }}
失败({{ project.failed_rate_d }}%): 	{{ project.failed_d }}">
										<div class="progress" >
											<div class="progress-text">1day : {{ project.total_d }}</div>
											<div class="progress-bar progress-bar-info" style="width: {{ project.invalid_rate_d }}%">
											</div>
											<div class="progress-bar progress-bar-success" style="width: {{ project.success_rate_d }}%">
											</div>
											<div class="progress-bar progress-bar-warning" style="width: 0.0%">
											</div>
											<div class="progress-bar progress-bar-danger" style="width: {{ project.failed_rate_d }}%">
											</div>
										</div>
									</td>
									<td class="middle-align" title="总计:
总计(): 	{{ project.total }}
新增(): 		{{ project.new }}
成功({{ project.success_rate }}%): 	{{ project.success }}
失效({{ project.invalid_rate }}%): 	{{ project.invalid }}
失败({{ project.failed_rate }}%): 	{{ project.failed }}">
										<div class="progress" >
											<div class="progress-text">Total : {{ project.total }}</div>
											<div class="progress-bar progress-bar-info" style="width: {{ project.invalid_rate }}%">
											</div>
											<div class="progress-bar progress-bar-success" style="width: {{ project.success_rate }}%">
											</div>
											<div class="progress-bar progress-bar-warning" style="width: 0.0%">
											</div>
											<div class="progress-bar progress-bar-danger" style="width: {{ project.failed_rate }}%">
											</div>
										</div>
									</td>
									<td>
										<!--<a href="javascript:;" onclick="jQuery('#edit-page').modal('show', {backdrop: 'static'});" class="btn btn-white  btn-sm btn-icon icon-left edit-btn">Edit</a>-->
										<a href="#" onclick="return false" class="btn btn-white  btn-sm btn-icon icon-left edit-btn">编辑</a>

										<a href="/dashboard/task/{{ project.name }}" class=" btn btn-white  btn-sm btn-icon icon-left">
											任务
										</a>

                                        <a href="/dashboard/debug/{{ project.name }}" class=" btn btn-white  btn-sm btn-icon icon-left">
											调试
										</a>
										<!--<a href="/dashboard/data/{{ project.name }}" class=" btn btn-white  btn-sm btn-icon icon-left">-->
											<!--Result-->
										<!--</a>-->
										<!--<a href="#" class="btn btn-info btn-sm btn-icon icon-left">-->
											<!--Profile-->
										<!--</a>-->
									</td>
								</tr>
								{% endfor %}

							</tbody>
						</table>
					</div>

				<!--</div>-->
            </div>

            <div class="row">


            </div>
			<!-- Main Footer -->
			<!-- Choose between footer styles: "footer-type-1" or "footer-type-2" -->
			<!-- Add class "sticky" to  always stick the footer to the end of page (if page contents is small) -->
			<!-- Or class "fixed" to  always fix the footer to the end of page -->
			<footer class="main-footer sticky footer-type-1">

				<div class="footer-inner">

					<!-- Add your copyright text here -->

					<!-- Go to Top Link, just add rel="go-top" to any link to add this functionality -->
					<div class="go-up">

						<a href="#" rel="go-top">
							<i class="fa-angle-up"></i>
						</a>

					</div>

				</div>

			</footer>
		</div>

	</div>

	<!-- Modal 6 (Long Modal)-->
	<div class="modal fade" id="edit-page">


		<div class="modal-dialog">
			<div class="modal-content">

				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
					<h4 class="modal-title"><strong>任务设置</strong><br /></h4>
				</div>

				<div class="modal-body">

					<div class="row">
						<div class="col-md-6">

							<div class="form-group">
								<label for="field-1" class="control-label"><strong>任务组</strong><br /></label>
								<input type="text" class="form-control" id="field-1" placeholder="">
							</div>

						</div>

						<div class="col-md-6">

							<div class="form-group">
								<label for="field-2" class="control-label"><strong>任务名称</strong><br /></label>

								<input type="text"   class="form-control" id="field-2" placeholder="" disabled>
							</div>

						</div>
					</div>


					<div class="row">
						<div class="col-md-12">

							<div class="form-group">
								<label for="field-6" class="control-label"><strong>执行参数</strong><br /></label>
								<textarea class="form-control autogrow" id="field-6" placeholder="" style="overflow: hidden; word-wrap: break-word; resize: horizontal; height: 50px;"></textarea>
								<!--<input type="text" class="form-control" id="field-6" placeholder="">-->
							</div>

						</div>
					</div>


					<div class="row">
						<div class="col-md-12">

							<div class="form-group">
								<label for="field-3" class="control-label"><strong>简介</strong><br /></label>

								<input type="text" class="form-control" id="field-3" placeholder="">
							</div>

						</div>
					</div>

					<div class="row">
						<div class="col-md-4">
							<div class="form-group">
								<label for="field-4" class="control-label"><strong>运行间隔 </strong><br /></label>
								<input type="text" class="form-control" id="field-4" placeholder="">
							</div>
						</div>
						<div class="col-md-4">
							<div class="form-group">
								<label for="field-5" class="control-label"><strong>分发数量</strong><br /></label>
								<input type="text" class="form-control" id="field-5" placeholder="">
							</div>
						</div>
						<div class="col-md-4">
							<div class="form-group">
								<label for="field-7" class="control-label"><strong>任务类型</strong><br /></label>
								<input type="text" class="form-control" id="field-7" placeholder="" disabled>
							</div>
						</div>
					</div>

					<div class="row" id="field-8" value="">
						<div class="col-md-12">
							<strong>状态</strong>
							<br />
							<br />
						</div>
						<div class="col-sm-6" >
							<ul class="icheck-list" >
								<li><input class="icheck-11" type="radio" name="minimal-radio-1" value="0"><label>停止</label></li>
								<li><input class="icheck-11" type="radio" name="minimal-radio-1" value="1" ><label>运行</label></li>
							</ul>
						</div>
						<div class="col-sm-6">
							<ul class="icheck-list">
								<li><input class="icheck-11" type="radio" name="minimal-radio-1" value="2" ><label>调试</label></li>
								<li><input class="icheck-11" type="radio" name="minimal-radio-1" value="3"><label>失效</label></li>
							</ul>

						</div>
					</div>

				</div>

				<div class="modal-footer">
					<button type="button" class="btn btn-white" data-dismiss="modal">关闭</button>
					<!--<button type="button" class="btn btn-info"><>Save changes</button>-->
					<a href="" onclick="return false" class="btn btn-info edit-save">保存修改</a>
				</div>
			</div>
		</div>
	</div>

    <!-- Modal 6 (Long Modal)-->
	<div class="modal fade" id="create-page">


		<div class="modal-dialog">
			<div class="modal-content">

				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
					<h4 class="modal-title"><strong>创建新任务</strong><br /></h4>
				</div>

				<div class="modal-body">


					<!--<div class="row">-->

						<!--<div class="col-md-6">-->
							<!--<div class="col-sm-3 text-center">-->

								<!--<div id="advancedDropzone" class="droppable-area dz-clickable" style="min-height: 200px;">-->
									<!--生成Nginx日志-->
								<!--</div>-->

							<!--</div>-->
						<!--</div>-->
					<!---->
						<!--<div class="col-md-6">-->
							<!--<div class="col-sm-3 text-center">-->

								<!--<div id="advancedDropzone1" class="droppable-area dz-clickable" style="min-height: 200px;">-->
									<!--执行Shell命令-->
								<!--</div>-->

							<!--</div>-->
						<!--</div>-->
					<!--</div>-->

					<div class="row">
						<div class="col-md-12">

							<div class="form-group">
								<label for="field-9" class="control-label"><strong>任务名称</strong><br /></label>
								<input type="text" class="form-control" id="field-9" placeholder="输入任务名称">
							</div>

						</div>

						<div class="col-md-12">

							<div class="form-group">

								<label for="field-10" class="control-label"><strong>任务类型</strong><br /></label>
								<select class="form-control select2-offscreen" id="field-10" tabindex="-1" title="选择任务类型">
									<option value="shell">Shell</option>
									<option value="nginx">Nginx</option>
									<option value="dataformator">dataformator</option>
									<option value="github">github</option>
								</select>

							</div>

						</div>

						<div class="col-md-12">

							<div class="form-group">
								<label for="field-11" class="control-label"><strong>执行参数(可选)</strong><br /></label>
								<input type="text"  class="form-control" id="field-11" placeholder='{"example":"example"}'>
							</div>

						</div>


						<!--<div class="row">-->
						<!--<label for="field-8" class="control-label"><strong>Name</strong><br /></label>-->
						<!---->
						<!--</div>-->
						<!--<div class="col-md-12">-->
							<!--<strong>Task Type</strong>-->
							<!--<br />-->
							<!--<br />-->
						<!--</div>-->
						<!--<div class="col-sm-6" >-->
							<!--<ul class="icheck-list" >-->
								<!--<li><input class="icheck-11" type="radio" name="minimal-radio-1" value="0"><label>Closed</label></li>-->
								<!--<li><input class="icheck-11" type="radio" name="minimal-radio-1" value="1" ><label>Running</label></li>-->
							<!--</ul>-->
						<!--</div>-->
						<!--<div class="col-sm-6" >-->
							<!--<ul class="icheck-list" >-->
								<!--<li><input class="icheck-11" type="radio" name="minimal-radio-1" value="0"><label>Closed</label></li>-->
								<!--<li><input class="icheck-11" type="radio" name="minimal-radio-1" value="1" ><label>Running</label></li>-->
							<!--</ul>-->
						<!--</div>-->


					</div>

				<div class="modal-footer">
					<button type="button" class="btn btn-white" data-dismiss="modal">关闭</button>
					<!--<button type="button" class="btn btn-info"><>Save changes</button>-->
					<a href="javascript:void(0)"  class="btn btn-info create-save">保存修改</a>
				</div>
		</div>
	</div>



	<!-- Imported styles on this page -->
	<link rel="stylesheet" href="{% static 'assets/js/icheck/skins/all.css' %}">
	<link rel="stylesheet" href="{% static 'assets/js/toastr/toastr.min.css' %}">
	<!--<link rel="stylesheet" href="{% static 'assets/js/select2/select2.css' %}">-->
	<!--<link rel="stylesheet" href="{% static 'assets/js/select2/select2-bootstrap.css' %}">-->

	<!-- Imported scripts on this page -->
	<script src="{% static 'assets/js/icheck/icheck.min.js' %}"></script>
	<!--<script src="{% static 'assets/js/select2/select2.min.js' %}"></script>-->

	<!-- Bottom Scripts -->
	<script src="{% static 'assets/js/bootstrap.min.js' %}"></script>
	<script src="{% static 'assets/js/TweenMax.min.js' %}"></script>
	<script src="{% static 'assets/js/resizeable.js' %}"></script>
	<script src="{% static 'assets/js/joinable.js' %}"></script>
	<script src="{% static 'assets/js/xenon-api.js' %}"></script>
	<script src="{% static 'assets/js/xenon-toggles.js' %}"></script>

    <!-- Imported scripts on  message-->
    <script src="{% static 'assets/js/toastr/toastr.min.js' %}"></script>
	<script src="{% static 'assets/js/jquery-validate/jquery.validate.min.js' %}"></script>

	<!-- JavaScripts initializations and stuff -->
	<script src="{% static 'assets/js/xenon-custom.js' %}"></script>
	<script src="{% static 'assets/js/xspider.js' %}"></script>

</body>
</html>